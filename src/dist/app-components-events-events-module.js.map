{"version":3,"sources":["webpack:///./src/app/components/events/daily-view/daily-view.component.css","webpack:///./src/app/components/events/daily-view/daily-view.component.html","webpack:///./src/app/components/events/daily-view/daily-view.component.ts","webpack:///./src/app/components/events/edit/edit.component.css","webpack:///./src/app/components/events/edit/edit.component.html","webpack:///./src/app/components/events/edit/edit.component.ts","webpack:///./src/app/components/events/event-ctrl/event-ctrl.component.css","webpack:///./src/app/components/events/event-ctrl/event-ctrl.component.html","webpack:///./src/app/components/events/event-ctrl/event-ctrl.component.ts","webpack:///./src/app/components/events/events-routing.module.ts","webpack:///./src/app/components/events/events.module.ts","webpack:///./src/app/models/Event.ts"],"names":[],"mappings":"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","file":"app-components-events-events-module.js","sourcesContent":["module.exports = \".card {\\n    border: 0;\\n    border-radius: 8px;\\n    margin-bottom: 1px;\\n}\\n\\n.card-overlay-action {\\n    position:absolute;\\n    top:20px;\\n    right:0;\\n}\\n\\nul {\\n    list-style-type: none;\\n    margin: 0; padding: 0;\\n}\\n\\nli {\\n    padding: 0;\\n}\\n\\na {\\n    color: #ffffff;\\n}\"","module.exports = \"<h2>{{selectedDate | date:'fullDate'}}</h2>\\n<div style=\\\"overflow-y: scroll; max-height: 70vh;\\\">\\n<div *ngFor=\\\"let event of events$ | async as events;\\\">\\n  <div class=\\\"card\\\" [ngStyle]=\\\"{'background-color': getColor(event.calendar)}\\\">\\n    <div class=\\\"card-body\\\">\\n      <ul>\\n        <li>{{event.name}}</li>\\n        <li>{{event.location}}</li>\\n        <li>{{event.startDateTime | date:'shortTime'}}</li>\\n      </ul>\\n    </div>\\n    <div class=\\\"card-overlay-action\\\">\\n        <a class=\\\"btn-floating btn-action ml-auto mr-4 mdb-color lighten-3\\\" routerLink=\\\"/edit-event/{{event._id}}\\\">\\n          <i class=\\\"material-icons\\\">edit</i>\\n        </a>\\n    </div>\\n  </div>\\n</div>\\n</div>\\n<div class=\\\"button-row\\\" style=\\\"margin-top: 18px; text-align: right;\\\">\\n  <a mat-fab color=\\\"primary\\\" style=\\\"text-decoration: none;\\\" routerLink=\\\"/edit-event\\\">Add</a>\\n</div>\"","import { Component, OnInit, ChangeDetectionStrategy, ChangeDetectorRef } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { EventService } from '@muega-services/event.service';\nimport { CalendarService } from '@muega-services/calendar.service';\nimport { SelectDateService } from '@muega-components/calendar/select-date.service';\nimport { Event } from '@muega-models/Event';\nimport { Observable, of } from 'rxjs';\n\n@Component({\n  selector: 'app-events-daily-view',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  templateUrl: './daily-view.component.html',\n  styleUrls: ['./daily-view.component.css'],\n  providers: [EventService, CalendarService]\n})\n\nexport class DailyViewComponent implements OnInit {\n\n  calendars = new Map();\n  events$: Observable<Event[]>;\n  selectedDate: Date;\n\n  constructor(\n    private route: ActivatedRoute,\n    private eventService: EventService,\n    private calendarService: CalendarService,\n    private ref: ChangeDetectorRef,\n    selectDateService: SelectDateService\n  ) {\n    this.selectedDate = new Date();\n    console.log('daily-view constructor', this.selectedDate);\n\n    selectDateService.date$.subscribe(n => {\n      this.selectedDate = n;\n      console.log('selectedDate', this.selectedDate);\n      this.loadEvents();\n      this.ref.markForCheck();\n    });\n  }\n\n  ngOnInit() {\n    this.calendarService.getCalendars()\n      .subscribe(calendars => {\n        calendars.forEach(element => {\n          this.calendars.set(element.name, element.color);\n        });\n        console.log('calendarMap:', this.calendars);\n\n        this.loadEvents();\n        this.ref.markForCheck();\n      }\n    );\n  }\n\n  loadEvents() {\n    this.events$ = this.eventService.getEventsByDate(this.selectedDate);\n  }\n\n  getColor(calendarName) {\n    return this.calendars.get(calendarName);\n  }\n}\n","module.exports = \".edit-component {\\n    display: flex;\\n    flex-direction: column;\\n}\\n\\n.edit-component > * {\\n    width: 100%;\\n}\\n\\na {\\n    text-decoration: none;\\n}\"","module.exports = \"<h2>{{ event._id != null ? 'Edit' : 'Add'}} Event</h2>\\n<hr/>\\n<form>\\n  <div class=\\\"edit-component\\\">\\n    <mat-form-field>\\n      <input matInput [(ngModel)]=\\\"event.name\\\" name=\\\"name\\\" placeholder=\\\"Title\\\" required>\\n    </mat-form-field>\\n    <mat-form-field>\\n      <mat-placeholder>Event starts at...</mat-placeholder>\\n      <mat-datetimepicker-toggle [for]=\\\"startDatetimePicker\\\" matSuffix></mat-datetimepicker-toggle>\\n      <mat-datetimepicker #startDatetimePicker type=\\\"datetime\\\" openOnFocus=\\\"true\\\" timeInterval=\\\"5\\\"></mat-datetimepicker>\\n      <input matInput [(ngModel)]=\\\"event.startDateTime\\\" name=\\\"startDateTime\\\" [matDatetimepicker]=\\\"startDatetimePicker\\\" required autocomplete=\\\"false\\\">\\n    </mat-form-field>\\n    <mat-form-field>\\n      <mat-placeholder>Event ends at...</mat-placeholder>\\n      <mat-datetimepicker-toggle [for]=\\\"endDatetimePicker\\\" matSuffix></mat-datetimepicker-toggle>\\n      <mat-datetimepicker #endDatetimePicker type=\\\"datetime\\\" openOnFocus=\\\"true\\\" timeInterval=\\\"5\\\"></mat-datetimepicker>\\n      <input matInput [(ngModel)]=\\\"event.endDateTime\\\" name=\\\"endDateTime\\\" [matDatetimepicker]=\\\"endDatetimePicker\\\" required autocomplete=\\\"false\\\">\\n    </mat-form-field>\\n    <mat-form-field>\\n      <input matInput [(ngModel)]=\\\"event.location\\\" name=\\\"location\\\" placeholder=\\\"Location\\\">\\n    </mat-form-field>\\n    <mat-form-field>\\n      <textarea matInput [(ngModel)]=\\\"event.notes\\\" name=\\\"notes\\\" placeholder=\\\"Notes\\\"></textarea>\\n    </mat-form-field>\\n    <mat-form-field>\\n      <mat-select [(ngModel)]=\\\"event.calendar\\\" name=\\\"calendar\\\" placeholder=\\\"Calendar\\\" required>\\n        <mat-option *ngFor=\\\"let calendar of calendars\\\" [value]=\\\"calendar.name\\\">\\n          {{calendar.name}}\\n        </mat-option>\\n      </mat-select>\\n    </mat-form-field>\\n    <div class=\\\"button-row\\\">\\n      <button mat-stroked-button color=\\\"primary\\\" (click)=\\\"save()\\\">Save</button>\\n      <button mat-button color=\\\"primary\\\" (click)=\\\"cancel()\\\">Cancel</button>\\n    </div>\\n  </div>\\n</form>\"","import { Component, OnInit, ChangeDetectionStrategy, ChangeDetectorRef } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { CalendarService } from '@muega-services/calendar.service';\nimport { EventService } from '@muega-services/event.service';\nimport { SelectDateService } from '@muega-components/calendar/select-date.service';\nimport { Calendar } from '@muega-models/Calendar';\nimport { Event } from '@muega-models/Event';\n\n@Component({\n  selector: 'app-edit',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  templateUrl: './edit.component.html',\n  styleUrls: ['./edit.component.css'],\n  providers: [EventService, CalendarService]\n})\nexport class EditComponent implements OnInit {\n  calendars: Calendar[];\n  event: Event;\n\n  constructor(\n    private router: Router,\n    private route: ActivatedRoute,\n    private dateService: SelectDateService,\n    private eventService: EventService,\n    private calendarService: CalendarService,\n    private ref: ChangeDetectorRef\n  ) { \n    this.route.params.subscribe( params => this.event = params.id);\n  }\n\n  ngOnInit() {\n    if(this.event != null) {\n      this.eventService.getEvent(this.event).subscribe(event => {\n        this.event = event;\n        this.ref.markForCheck();\n        console.log(this.event);\n      });\n    }\n    else {\n      this.event = new Event();\n    }\n    \n    this.calendarService.getCalendars()\n      .subscribe(calendars => {\n        this.calendars = calendars;\n      }\n    );    \n  }\n\n  save() {\n    if(this.event._id != null) {\n      this.eventService.updateEvent(this.event)\n        .subscribe(res => {\n          console.log('updateEvent: ', res);\n        }\n      );\n    } else {\n      this.eventService.addEvent(this.event)\n        .subscribe(res => {\n          console.log('addEvent: ', res);\n        }\n      );\n    }\n  }\n\n  cancel() {\n    this.router.navigate(['/']);\n  }\n}\n\n/*\n * TO-DO:\n * 7/3\n * Investigate how to refactor the getCalendar picklist functionality so we can reuse/how to move one level up?\n * We need to fix a bug on the datetimepicker tag that causes the placeholder to overlap with the date entered if focus is not moved to other input element\n */\n","module.exports = \"\"","module.exports = \"<router-outlet></router-outlet>\"","import { Component, OnInit, Input } from '@angular/core';\n\n@Component({\n  selector: 'app-event-ctrl',\n  templateUrl: './event-ctrl.component.html',\n  styleUrls: ['./event-ctrl.component.css']\n})\nexport class EventCtrlComponent implements OnInit {\n\n  @Input() selectedDate: Date;\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\n\nimport { EventCtrlComponent } from '@muega-components/events/event-ctrl/event-ctrl.component';\nimport { DailyViewComponent } from '@muega-components/events/daily-view/daily-view.component';\nimport { EditComponent } from '@muega-components/events/edit/edit.component';\n \nconst eventsRoutes: Routes = [\n    {\n      path: \"\",\n      component: EventCtrlComponent,\n      children: [\n        { path: \"\", component: DailyViewComponent },\n        { path: 'edit-event', component: EditComponent },\n        { path: 'edit-event/:id', component: EditComponent }\n      ]\n    }\n];\n\n@NgModule({\n  imports: [\n    RouterModule.forChild(eventsRoutes)\n  ],\n  exports: [\n    RouterModule\n  ]\n})\nexport class EventsRoutingModule {}","import { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { CommonModule } from '@angular/common';\nimport { MaterialModule } from '../../material/material.module';\n\nimport { EventsRoutingModule } from '@muega-components/events/events-routing.module';\nimport { EventCtrlComponent } from '@muega-components/events/event-ctrl/event-ctrl.component';\nimport { DailyViewComponent } from '@muega-components/events/daily-view/daily-view.component';\nimport { EditComponent } from '@muega-components/events/edit/edit.component';\nimport { EventService } from '@muega-services/event.service';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    EventsRoutingModule,\n    MaterialModule\n  ],\n  declarations: [\n    EventCtrlComponent,\n    DailyViewComponent,\n    EditComponent\n  ],\n  providers: [\n    EventService\n  ],\n  exports: [\n    EventCtrlComponent\n  ]\n})\nexport class EventsModule {}","export class Event {\n    _id?: string;\n    name: string;\n    notes?: string;\n    location?: string;\n    startDateTime: Date;\n    endDateTime: Date;\n    calendar: string;\n}"],"sourceRoot":""}